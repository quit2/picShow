!function(a,b){function c(){var a=this;this.off=!1,a.allBoth=!1,arguments[0][1]?(a.dom=b.querySelectorAll(arguments[0][0]),a.allBoth=!0):a.dom=b.querySelector(arguments[0][0]),a.s={data:[],title:"",bottom:!0,btn:!0,top:!0,mouse:!0,error:null,ajax:null}}function d(){return new c(arguments)}c.prototype.init=function(a){function d(a){var e,b="",d=" ";"object"==typeof c.s.ajax?(c.allBoth&&(d=c.s.ajax.data&&c._isArr(c.s.ajax.data)?c.s.ajax.data[a]:c.s.ajax.data?c.s.ajax.data:" "),b=c.s.ajax.url):b=c.s.ajax,e=new XMLHttpRequest,e.open("post",b,!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send(d),e.onload=function(){var b,a=JSON.parse(this.responseText);for(c.s.data=[],b=0;b<a.length;b++)c.s.data[b]={src:a[b].src,title:a[b].title};c._a(0)}}var c=this;return c.dom?(c._isArr(a)?c.s.data=a:c._extend(c.s,a),c.allBoth||0!=c.s.data.length||c.s.ajax?(c.allBoth&&0==c.s.data.length&&c.dom[0].querySelector(".gallery-src")&&[].forEach.call(c.dom,function(a){c.s.data.push({src:a.querySelector(".gallery-src").dataset.src,title:a.querySelector(".gallery-title").innerHTML})}),c.allBoth?[].forEach.call(c.dom,function(a,e){c._ad(a,"click",function(){b.querySelector("#Gallerys")?b.body.removeChild(b.querySelector("#Gallerys")):"",c.s.ajax&&!a.querySelector(".gallery-src")?d(e):c._a(e)})}):c._ad(c.dom,"click",function(){b.querySelector("#Gallerys")?b.body.removeChild(b.querySelector("#Gallerys")):"",c.s.ajax&&!c.allBoth?d(0):c._a(0)}),void 0):(alert("not Array"),!1)):(alert("No Dom !!"),!1)},c.prototype._a=function(a){var b=this;b._c(),b._ele(a),b._s(a),b._d(),b.s.btn&&b._ck(),b.s.mouse&&b._mo()},c.prototype._extend=function(a,b){for(var c in b)a[c]=b[c]},c.prototype._isArr=function(a){return"[object Array]"===Object.prototype.toString.call(a)},c.prototype._ele=function(a){var d,c=this;c.obj=b.querySelector("#Gallerys"),c.w=b.documentElement.clientWidth,c.w2=b.documentElement.clientWidth,c.list=c.obj.querySelectorAll(".g-list"),c.drag=c.obj.querySelector(".Gallery-wrap"),c.left=c.obj.querySelector(".g-left"),c.right=c.obj.querySelector(".g-right"),c.now=0,c.css1="all 0s ease",this.css2="all 0.4s ease",c.now=a,c.s.bottom&&(c.title=c.obj.querySelector(".g-bottom"),c.title.innerHTML=c.s.data[c.now].title),c.s.top&&(c.count=c.obj.querySelector(".g-count"),c.close=c.obj.querySelector(".g-close"),c.count.innerHTML=c.now+1+" / "+c.s.data.length,c.close.addEventListener("touchstart",function(a){var c,d;return a=a.changedTouches[0],c=a.pageX,d=a.pageY,this.addEventListener("touchend",function(a){var e,f;a=a.changedTouches[0],e=a.pageX,f=a.pageY,Math.abs(e-c)<=5&&Math.abs(f-d)<=5&&(b.querySelector("#Gallerys").classList.remove("show"),setTimeout(function(){b.body.removeChild(b.querySelector("#Gallerys"))},200))},!1),a.preventDefault(),!1},!1),c.close.onclick=function(){b.querySelector("#Gallerys").classList.remove("show"),setTimeout(function(){b.body.removeChild(b.querySelector("#Gallerys"))},200)}),d=null,c.list[c.now].off||(d=new Image,d.src=c.list[c.now].children[2].dataset.src,d.onload=function(){c.list[c.now].children[2]?c.list[c.now].children[2].src=d.src:"",c.list[c.now].off=!0,c.list[c.now].querySelector(".loading")?c.list[c.now].removeChild(c.list[c.now].querySelector(".loading")):""},d.onerror=function(){d.src=c.s.error?c.s.error:c.list[c.now].children[2].dataset.src}),c.now==c.s.data.length-1?c.right.classList.add("none"):c.right.classList.remove("none"),0==c.now?c.left.classList.add("none"):c.left.classList.remove("none")},c.prototype._trans=function(a,b){a.style.transform=a.style.MozTransform=a.style.WebkitTransform="translate3d("+b+"px,0px,0px)"},c.prototype._c=function(){var c,d,e,f,g,h,i,a=b.createElement("div");for(a.id="Gallerys",a.className="Gallery",this.s.top||this.s.bottom||(a.className="Gallery Gallery-none"),c="",d="<span>"+this.s.title+"</span>",e='<div class="g-top"><div class="g-count"></div><button class="g-close"></button>'+(this.s.top?d:" ")+"    	</div>",f='<a href="javascript:;"  class="g-left"></a><a href="javascript:;"  class="g-right"></a>',g='<div class="g-bottom"></div>',h=0;h<this.s.data.length;h++)c+='<div class="g-list"><div class="loading"><s></s></div> <span></span><img data-src="'+this.s.data[h].src+'" alt=""> </div>';i=(this.s.top?e:" ")+(this.s.bottom?g:" ")+(this.s.btn?f:" ")+'<div class="Gallery-wrap">'+c+"</div>",a.innerHTML=i,b.body.appendChild(a),setTimeout(function(){b.querySelector("#Gallerys").classList.add("show")},50)},c.prototype._s=function(a){var c=this,d=null;[].forEach.call(c.list,function(a,b){c._trans(a,c.w*b)}),c.now=a,c._trans(c.drag,-(c.w*c.now)),c._ad(window,"resize",function(){clearTimeout(d),c.drag.style.transition=c.drag.style.MozTransition=c.drag.style.WebkitTransition=c.css1,c.w=b.documentElement.clientWidth,b.documentElement.clientWidth-c.w2,c._trans(c.drag,-(c.w*c.now)),[].forEach.call(c.list,function(a,b){c._trans(a,c.w*b)}),d=setTimeout(function(){c.w2=b.documentElement.clientWidth},500)})},c.prototype._ck=function(){function b(){a.drag.style.transition=a.drag.style.MozTransition=a.drag.style.WebkitTransition=a.css2,a._m()}var a=this;navigator.userAgent.indexOf("Mobile")>0?(a.left.addEventListener("touchstart",function(c){function f(c){var g,h;c=c.changedTouches[0],g=c.pageX,h=c.pageY,Math.abs(g-d)<=5&&Math.abs(h-e)<=5&&(0==a.now?a.now=0:a.now--,b()),this.removeEventListener("touchend",f,!1)}var d,e;return c=c.changedTouches[0],d=c.pageX,e=c.pageY,this.addEventListener("touchend",f,!1),!1},!1),a.right.addEventListener("touchstart",function(c){function f(c){var g,h;c=c.changedTouches[0],g=c.pageX,h=c.pageY,Math.abs(g-d)<=5&&Math.abs(h-e)<=5&&(a.now==a.s.data.length-1?a.now=a.s.data.length-1:a.now++,b()),this.removeEventListener("touchend",f,!1)}var d,e;return c=c.changedTouches[0],d=c.pageX,e=c.pageY,this.addEventListener("touchend",f,!1),!1},!1)):(a.left.addEventListener("click",function(){0==a.now?a.now=0:a.now--,b()},!1),a.right.addEventListener("click",function(){a.now==a.s.data.length-1?a.now=a.s.data.length-1:a.now++,b()},!1))},c.prototype._mo=function(){var a=this;a._w(a.drag,function(b){this.style.transition=this.style.MozTransition=this.style.WebkitTransition=a.css2,b?(a.now==a.s.data.length-1?a.now=a.s.data.length-1:a.now++,a._m()):(0==a.now?a.now=0:a.now--,a._m())})},c.prototype._d=function(){var a=this;a.drag.onmousedown=a.drag.ontouchstart=function(c){function h(a){a.preventDefault()}function i(b){return b=navigator.userAgent.indexOf("Mobile")>0?b.changedTouches[0]:b||event,e=b.pageX,0==a.now&&e>d?a._trans(g,(e-d)/3+f):a._trans(g,e-d+f),a.now==a.s.data.length-1&&d>e&&a._trans(g,(e-d)/3+f),b.preventDefault(),!1}function j(c){c=navigator.userAgent.indexOf("Mobile")>0?c.changedTouches[0]:c||event,a.drag.classList.remove("grab"),e||(e=c.pageX),g.style.transition=g.style.MozTransition=g.style.WebkitTransition=a.css2,b.onmouseup=null,b.onmousemove=null,-80>=e-d?(a.now==a.s.data.length-1?a.now=a.s.data.length-1:a.now++,a._m()):e-d>=80?(0==a.now?a.now=0:a.now--,a._m()):a._m(),(a.s.top||a.s.btn||a.s.bottom)&&a.s.top||Math.abs(e-d)<=5&&(b.querySelector("#Gallerys").classList.remove("show"),setTimeout(function(){b.body.removeChild(b.querySelector("#Gallerys"))},200)),b.removeEventListener("mousemove",i,!1),b.removeEventListener("mouseup",j,!1),b.removeEventListener("touchmove",i,!1),b.removeEventListener("touchmove",h,!1),b.removeEventListener("touchend",j,!1)}var e,d,f,g;return this.classList.add("grab"),c=navigator.userAgent.indexOf("Mobile")>0?c.changedTouches[0]:c||event,d=c.pageX,f=a._gt(this,"x"),g=this,g.style.transition=g.style.MozTransition=g.style.WebkitTransition=a.css1,g.style.transform=g.style.MozTransform=g.style.WebkitTransform="translate3d("+f+"px,0px,0px)",b.addEventListener("mousemove",i,!1),b.addEventListener("mouseup",j,!1),b.addEventListener("touchmove",i,!1),b.addEventListener("touchmove",h,!1),b.addEventListener("touchend",j,!1),c.stopPropagation(),c.preventDefault(),!1}},c.prototype._m=function(){var b,a=this;a._trans(a.drag,-a.w*a.now),b=null,a.list[a.now].off||(b=new Image,b.src=a.list[a.now].children[2].dataset.src,b.onload=function(){a.list[a.now].children[2]?a.list[a.now].children[2].src=b.src:"",a.list[a.now].off=!0,a.list[a.now].querySelector(".loading")?a.list[a.now].removeChild(a.list[a.now].querySelector(".loading")):""},b.onerror=function(){b.src=a.s.error?a.s.error:a.list[a.now].children[2].dataset.src}),a.s.top&&(a.count.innerHTML=a.now+1+" / "+a.s.data.length),a.s.bottom&&(a.title.innerHTML=a.s.data[a.now].title),a.now==a.s.data.length-1?a.right.classList.add("none"):a.right.classList.remove("none"),0==a.now?a.left.classList.add("none"):a.left.classList.remove("none")},c.prototype._ad=function(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c,!1)},c.prototype._gt=function(a,b){var c=this._gs(a,"MozTransform")||this._gs(a,"WebkitTransform")||this._gs(a,"msTransform")||this._gs(a,"transform"),d=c.split(",");return"x"==b.toLowerCase()?window.navigator.msPointerEnabled?parseInt(d[d.length-4]):parseInt(d[d.length-2]):window.navigator.msPointerEnabled?parseInt(d[d.length-3]):parseInt(d[d.length-1])},c.prototype._w=function(a,b){function c(c){var d=c||event,e=d.detail?d.detail>0:d.wheelDelta<0;return b.call(a,e),d.preventDefault?(d.preventDefault(),void 0):!1}this._ad(a,"DOMMouseScroll",c),this._ad(a,"mousewheel",c)},c.prototype._gs=function(a,b){return a.currentStyle?a.currentStyle[b]:getComputedStyle(a,null)[b]},window.gallery=d}(window,document);